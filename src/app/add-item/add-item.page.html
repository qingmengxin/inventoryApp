<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Add new product</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form (ngSubmit)="onSubmit()" #itemForm="ngForm">
    <ion-list>
      <!-- 商品名称 -->
      <ion-item>
        <ion-label position="stacked">Product name*</ion-label>
        <ion-input 
          type="text" 
          [(ngModel)]="newItem.name" 
          name="name" 
          required
          placeholder="Please enter the product name">
        </ion-input>
      </ion-item>

      <!-- 分类 -->
      <ion-item>
        <ion-label position="stacked">classification*</ion-label>
        <ion-select 
          [(ngModel)]="newItem.category" 
          name="category"
          interface="popover"
          required>
          <ion-select-option *ngFor="let cat of categories" [value]="cat">
            {{ cat }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <!-- 数量 -->
      <ion-item>
        <ion-label position="stacked">quantity*</ion-label>
        <ion-input 
          type="number" 
          [(ngModel)]="newItem.quantity" 
          name="quantity"
          required
          min="0"
          placeholder="0">
        </ion-input>
      </ion-item>

      <!-- 价格 -->
      <ion-item>
        <ion-label position="stacked">price*</ion-label>
        <ion-input 
          type="number" 
          [(ngModel)]="newItem.price" 
          name="price"
          required
          min="0"
          step="0.01"
          placeholder="0.00">
        </ion-input>
      </ion-item>

      <!-- 供应商 -->
      <ion-item>
        <ion-label position="stacked">supplier*</ion-label>
        <ion-input 
          type="text" 
          [(ngModel)]="newItem.supplier" 
          name="supplier"
          required
          placeholder="Enter supplier name">
        </ion-input>
      </ion-item>

      <!-- 库存状态 -->
      <ion-item>
        <ion-label position="stacked">Inventory Status*</ion-label>
        <ion-select 
          [(ngModel)]="newItem.stockStatus" 
          name="stockStatus"
          interface="popover"
          required>
          <ion-select-option *ngFor="let status of stockStatuses" [value]="status">
            {{ status }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <!-- 特别说明 -->
      <ion-item>
        <ion-label position="stacked">special note</ion-label>
        <ion-textarea 
          [(ngModel)]="newItem.specialNotes" 
          name="specialNotes"
          rows="3"
          placeholder="Optional explanatory information">
        </ion-textarea>
      </ion-item>

      <!-- 是否推荐 -->
      <ion-item>
        <ion-label>Recommending Commodities</ion-label>
        <ion-toggle [(ngModel)]="newItem.featured" name="featured"></ion-toggle>
      </ion-item>
    </ion-list>

    <!-- 操作按钮 -->
    <div class="ion-padding">
      <ion-button 
        type="submit" 
        expand="block" 
        [disabled]="!itemForm.form.valid">
        Confirm Add
      </ion-button>
      <ion-button 
        type="button" 
        expand="block" 
        fill="outline" 
        (click)="cancel()">
        cancel
      </ion-button>
    </div>
  </form>
</ion-content>
